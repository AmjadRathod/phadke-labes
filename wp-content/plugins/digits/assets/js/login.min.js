function show_countrycode_field(e){return!!is_mobile(e)&&!dig_begins_with(e)}function dig_begins_with(e){return"+"==e.substring(0,1)}function filter_mobile(e){return(e=e.replace(/[-+ )(]/g,"")).replace(/^0+/,"")}function is_mobile(e){return e=e.replace(/[- )(]/g,""),jQuery.isNumeric(e)}jQuery(function($){try{jQuery(".dig-custom-field-type-date").find("input").attr({type:"text",dtype:"date",date:1}).datepicker({language:"en",timepicker:!1,onSelect:function(e,i,t){jQuery(t.el).trigger("change")}})}catch(e){}function isEmpty(e){return!jQuery.trim(e.text())}var tokenCon,akCallback=-1,dig_hide_ccode=dig_log_obj.dig_hide_ccode;1==dig_hide_ccode&&jQuery("body").addClass("dig_hideccode"),jQuery(".digits-login-modal").each(function(){var e=jQuery(this).attr("href"),i=jQuery(this).attr("type"),t=jQuery(this).attr("class");jQuery(this).closest("a").attr({href:e,type:i,class:t})});var loader=jQuery(".dig_load_overlay"),modcontainer=jQuery(".dig-box");jQuery("body").append(loader),jQuery("body").append(modcontainer);var opnmodcon=document.getElementsByClassName("digits-login-modal")[0],modclos=document.getElementsByClassName("dig-cont-close")[0];jQuery(".dig-cont-close").click(function(){modcontainer.css({display:"none"}),unlockScroll(),jQuery("#digits_redirect_page").length&&jQuery("#digits_redirect_page").remove()});var isPlaceholder=0,leftPadding="unset";jQuery(".dig_pgmdl_2").find(".minput").each(function(){var e=jQuery(this).find("input,textarea");if(e.length&&"checkbox"!=e.attr("type")&&"radio"!=e.attr("type")){var i=jQuery.trim(jQuery(this).find("label").text());e.attr("placeholder",i),isPlaceholder=1,leftPadding="1em"}});var customLeftPadding=jQuery(".dig_leftpadding");customLeftPadding.length&&(leftPadding=customLeftPadding.val()),jQuery("#dig-ucr-container").on("click",function(e){jQuery(this).attr("force")||jQuery(e.target).has(".dig-modal-con").length&&(modcontainer.css({display:"none"}),unlockScroll(),jQuery("#digits_redirect_page").length&&jQuery("#digits_redirect_page").remove())});var login=jQuery(".dig_lrf_box .digloginpage"),register=jQuery(".dig_lrf_box .register"),forgot=jQuery(".dig_lrf_box .forgot"),login_modal=jQuery(".dig_ma-box .digloginpage"),register_modal=jQuery(".dig_ma-box .register"),forgot_modal=jQuery(".dig_ma-box .forgot"),forgotpass_modal=jQuery(".dig_ma-box .forgotpass"),forgotpass=jQuery(".dig_lrf_box .forgotpass");register_modal.find(".dig_wp_bp_fields").remove();var dig_sortorder=dig_log_obj.dig_sortorder;if(null!=dig_sortorder&&dig_sortorder.length){var sortorder=dig_sortorder.split(","),digits_register_inputs=register_modal.find(".dig_reg_inputs");digits_register_inputs.each(function(){jQuery(this).find(".minput").sort(function(e,i){var t=jQuery.inArray(e.id,sortorder),o=jQuery.inArray(i.id,sortorder);return t<o?-1:o<t?1:0}).appendTo(jQuery(this))})}var mailSecondLabel=jQuery(".dig_secHolder"),secondmailormobile=jQuery(".dig-secondmailormobile"),loginBoxTitle=jQuery(".dig-box-login-title"),isSecondMailVisible=!1,inftype=0,leftDis=dig_log_obj.left,noanim=!1,triggered=0,dig_modal_conn=jQuery(".dig-modal-con");function show_digits_login_modal(e){jQuery(window).width();var i=e.attr("type");if(jQuery(".minput").trigger("blur"),void 0!==i&&!1!==i&&"button"!=i||(i=1),10==i||1==e.attr("data-fal"))return e.attr("href")&&(window.location.href=e.attr("href")),!0;if(lockScroll(),noanim=!0,modcontainer.css({display:"block"}),1==i||4==i)modcontainer.find(".backtoLogin").click(),register.find(".backtoLoginContainer").show(),forgot.find(".backtoLoginContainer").show(),updateModalHeight(login_modal),4==i?(modcontainer.find(".signupbutton").hide(),modcontainer.find(".signdesc").hide()):(modcontainer.find(".signupbutton").show(),modcontainer.find(".signdesc").show());else if(2==i){if(!register.length)return showDigMessage(dig_log_obj.Registrationisdisabled),modcontainer.hide(),noanim=!1;modcontainer.find(".backtoLogin").click(),register.find(".backtoLoginContainer").hide(),modcontainer.find(".signupbutton").click()}else if(3==i){if(!forgot.length)return showDigMessage(dig_log_obj.forgotPasswordisdisabled),modcontainer.hide(),noanim=!1;modcontainer.find(".backtoLogin").click(),forgot.find(".backtoLoginContainer").hide(),modcontainer.find(".forgotpassworda").click()}return noanim=!1,jQuery("[tabindex='-1']").removeAttr("tabindex"),!1}if($.fn.digits_login_modal=function(e){return show_digits_login_modal(e),!1},jQuery(document).on("click",".digits-login-modal",function(){return jQuery(this).attr("attr-disclick")||show_digits_login_modal(jQuery(this)),!1}),1!=dig_log_obj.dig_dsb){var precode,update_time_button;jQuery(document).on("click","#dig_lo_resend_otp_btn",function(){var i=jQuery(this);if(!jQuery(this).hasClass("dig_resendotp_disabled"))if(loader.show(),1==isFirebase){dismissLoader=!0,loader.show();var e=i.attr("countrycode")+i.attr("mob");grecaptcha.reset(window.recaptchaWidgetId);var t=window.recaptchaVerifier;firebase.auth().signInWithPhoneNumber(e,t).then(function(e){isDigFbAdd=1,loader.hide(),window.confirmationResult=e,updateTime(i)}).catch(function(e){loader.hide(),showDigMessage(dig_mdet.Invaliddetails)})}else jQuery.ajax({type:"post",url:dig_log_obj.ajax_url,data:{action:"digits_resendotp",countrycode:i.attr("countrycode"),mobileNo:i.attr("mob"),csrf:i.attr("csrf"),login:i.attr("dtype")},success:function(e){e=e.trim(),loader.hide(),0==e?showDigMessage(dig_log_obj.pleasetryagain):-99==e?showDigMessage(dig_log_obj.invalidcountrycode):updateTime(i)}})}),jQuery(document).on("click",".dig_captcha",function(){var e=jQuery(this),i=e.parent().find(".dig_captcha_ses"),t=Math.random();e.attr("src",e.attr("cap_src")+"?r="+t+"&pr="+i.val()),i.val(t)}),jQuery(".dig_captcha").on("dragstart",function(e){e.preventDefault()}),jQuery.isFunction(jQuery.fn.niceSelect)&&jQuery(".dig-custom-field").find("select").niceSelect();var resendTime=dig_log_obj.resendOtpTime,dismissLoader=!1,lastcountrycode,lastmobileNo,lastDtype,username_reg_field="",email_reg_field="",captcha_reg_field="",captcha_ses_reg_field="",isFirebase=0;if(loader.on("click",function(){dismissLoader&&loader.hide()}),update_req_fields(),1==dig_log_obj.firebase&&jQuery("form").length)try{null!=firebase&&(jQuery("form").first().append('<input type="hidden" value="1" id="dig_login_va_fr_otp" />'),window.recaptchaVerifier=new firebase.auth.RecaptchaVerifier("dig_login_va_fr_otp",{size:"invisible",callback:function(e){},"expired-callback":function(){loader.hide()},"error-callback":function(){loader.hide()}}),firebase.auth().signOut())}catch(e){}var dig_otp_fields=jQuery("input[name='dig_otp']");dig_otp_fields.on("change",function(e){var i=jQuery(this);i.val(i.val().replace(/\D/g,""))}),dig_otp_fields.on("keydown",function(e){-1!==jQuery.inArray(e.keyCode,[46,8,9,27,13,110])||86===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||!0===e.shiftKey||35<=e.keyCode&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||57<e.keyCode)&&(e.keyCode<96||105<e.keyCode)&&e.preventDefault()});var otp_box=0,otp_container=jQuery(".dig_verify_mobile_otp_container"),otp_submit_button=0,submit_form,lastotpmobileNo,lastotpcountrycode,lastotpDtype;jQuery(".dig_verify_otp_input").on("keyup",function(e){13==(e.keyCode?e.keyCode:e.which)&&jQuery(".dig_verify_otp").trigger("click")}),jQuery(".dig_verify_otp").on("click",function(){var e=jQuery(".dig_verify_otp_input"),i=e.val();if(0==i.length)return e.addClass("dig_input_error").closest(".minput").append(requiredTextElement),!1;otp_box.val(i),otp_submit_button.trigger("click")}),jQuery(".dig_lrf_box .loginviasms").click(function(){otp_submit_button=jQuery(this),submit_form=jQuery(this).closest("form"),update_time_button=jQuery(this);var e=submit_form.find(".logincountrycode").val(),i=jQuery(".dig_nounce").val(),t=submit_form.find(".dig-mobmail").val();""!=t&&""!=e?is_mobile(t)&&jQuery.isNumeric(e)?1!=dig_log_obj.captcha_accept||(captcha_reg_field=submit_form.find("input[name='digits_reg_logincaptcha']").val(),captcha_ses_reg_field=submit_form.find(".dig-custom-field-type-captcha").find(".dig_captcha_ses").val(),0!=captcha_reg_field.length)?1!=jQuery(this).attr("verify")?is_mobile(t)?(akCallback="loginCallback",verifyMobileNoLogin(e,formatMobileNumber(t),i,1)):0<t.length?showDigMessage(dig_log_obj.Thisfeaturesonlyworkswithmobilenumber):(akCallback="loginCallback",verifyMobileNoLogin(e,formatMobileNumber(t),i)):verifyOtp(e,t,i,submit_form.find(".dig_login_otp").find("input").val(),1):showDigMessage("Please enter a valid captcha!"):showDigMessage(dig_log_obj.InvalidMobileNumber):showDigMessage(dig_log_obj.InvalidMobileNumber)}),jQuery(".dig_verify_mobile_no").click(function(){update_time_button=jQuery(this),otp_submit_button=jQuery(this);var e=(submit_form=jQuery(this).closest("form")).find(".logincountrycode").val(),i=jQuery(".dig_nounce").val(),t=submit_form.find(".dig-mobmail").val();if(""!=t&&""!=e)if(is_mobile(t)&&jQuery.isNumeric(e)){var o=submit_form.find(".dig_login_otp");1!=jQuery(this).attr("verify")?is_mobile(t)&&(akCallback="updateFormVerfication",verifyMobileNoLogin(e,t,i,11)):verifyOtp(e,t,i,o.find("input").val(),11)}else showDigMessage(dig_log_obj.InvalidMobileNumber);else showDigMessage(dig_log_obj.InvalidMobileNumber)});var prv=-1,forgotpass=jQuery(".dig_lrf_box .forgotpass"),passchange=0,forgotForm;jQuery("#digits_forgotPassChange").length&&(passchange=1),jQuery(".dig_lrf_box .forgotpassword").click(function(){update_time_button=jQuery(this),forgotForm=jQuery(this).closest("form"),-1==prv&&(prv=jQuery(this).val());var e=jQuery.trim(forgotForm.find(".forgotpass").val()),i=forgotForm.find(".forgotcountrycode").val(),t=jQuery(".dig_nounce").val();if(1==jQuery(this).attr("verify")&&1!=passchange)return verifyOtp(i,e,t,forgotForm.find(".dig_forgot_otp").find("input").val(),3),!1;var o=forgotForm.find(".digits_password"),r=forgotForm.find(".digits_cpassword");if(1==passchange)return o.val()==r.val()||(showDigMessage(dig_log_obj.Passworddoesnotmatchtheconfirmpassword),!1);if(validateEmail(e)&&""!=e)return o.removeAttr("required"),r.removeAttr("required"),!0;i=forgotForm.find(".forgotcountrycode").val();return""!=e&&""!=i?(is_mobile(e)?(akCallback="forgotCallBack",verifyMobileNoLogin(i,e,t,3)):showDigMessage(dig_log_obj.Invaliddetails),!1):void 0});var digPassReg=jQuery(".dig_lrf_box #digits_reg_password"),dig_pass_signup=jQuery(".dig_lrf_box .dig-signup-password"),dig_otp_signup=jQuery(".dig_lrf_box .dig-signup-otp"),dig_log_reg_button=0;dig_pass_signup.click(function(){return 0==jQuery(this).attr("attr-dis")||(digPassReg.attr("required",""),dig_otp_signup.hide(),digPassReg.parent().show(),digPassReg.parent().parent().fadeIn(),jQuery(this).addClass("registerbutton"),jQuery(this).attr("attr-dis",0),dig_log_reg_button=0),!1});var requiredTextElement="<span class='dig_field_required_text'>Required</span>",registerStatus=0,regForm;jQuery(".dig_login_rembe, .dig_opt_mult").find('input[type="checkbox"],input[type="radio"]').on("change",function(){var e=jQuery(this);e.is(":radio")&&e.closest(".dig_opt_mult_con").find(".selected").removeClass("selected"),e.is(":checked")?e.parent().addClass("selected"):e.parent().removeClass("selected"),jQuery(this).attr("data-all")&&jQuery("."+jQuery(this).attr("data-all")).each(function(){jQuery(this).is(":checked")!==e.is(":checked")&&jQuery(this).attr("checked",e.is(":checked")).trigger("change")})}),jQuery(document).on("keyup change",".dig_input_error",function(){var e=jQuery(this).closest(".minput");e.find(".dig_input_error").removeClass("dig_input_error"),e.find(".dig_field_required_text").remove()}),jQuery(".dig_lrf_box .registerbutton").on("click",function(){var e,i,t;if(regForm=jQuery(this).closest("form"),update_time_button=jQuery(this),jQuery.trim(regForm.find(".digits_reg_name").val()),t=jQuery.trim(regForm.find(".dig-secondmailormobile").val()),e=jQuery.trim(regForm.find(".digits_reg_email").val()),i=jQuery.trim(digPassReg.val()),1==dig_log_obj.strong_pass&&(2==dig_log_obj.pass_accept||0<i.length)){var o=wp.passwordStrength.meter(i,["black","listed","word"],i);if(null!=o&&o<3)return showDigMessage(dig_log_obj.useStrongPasswordString),!1}var r=jQuery(this).attr("attr-dis"),n=jQuery(".dig_nounce").val(),d=!1;if(regForm.find("input,textarea,select").each(function(){if(jQuery(this).attr("required")||jQuery(this).attr("data-req")){var e=jQuery(this),i=e.attr("dtype");if(i&&"range"==i){var t=e.val().split("-");t[1]||(d=!0,e.addClass("dig_input_error").closest(".minput").append(requiredTextElement),e.val(""))}if(e.attr("date"))if("range"!=i){isDateValid(new Date(e.val()))||(d=!0,e.addClass("dig_input_error").closest(".minput").append(requiredTextElement),e.val(""))}else{var o=new Date(t[0]),r=new Date(t[1]);isDateValid(o)&&isDateValid(r)||(d=!0,e.addClass("dig_input_error").closest(".minput").append(requiredTextElement),e.val(""))}else if(e.is(":checkbox")||e.is(":radio"))e.is(":checked")||jQuery('input[name="'+e.attr("name")+'"]:checked').val()||(d=!0,e.addClass("dig_input_error").closest(".minput").append(requiredTextElement));else{var n=e.val();null!=n&&0!=n.length||(d=!0,e.is("select")&&e.next().addClass("dig_input_error"),e.addClass("dig_input_error").closest(".minput").append(requiredTextElement))}}}),1==regForm.find(".dig_input_error").length&&0<regForm.find(".dig_opt_mult_con_tac").find(".dig_input_error").length)return showDigMessage(dig_log_obj.accepttac),!1;if(d)return showDigMessage(dig_log_obj.fillAllDetails),!1;if(regForm.attr("wait"))return showDigMessage(regForm.attr("wait")),!1;if(regForm.attr("error"))return showDigMessage(regForm.attr("error")),!1;if(0==dig_log_obj.mobile_accept&&0==dig_log_obj.mail_accept)return!0;if(1==r&&dig_otp_signup.length)return digPassReg.attr("required",""),dig_otp_signup.hide(),digPassReg.parent().show(),digPassReg.parent().parent().fadeIn(),jQuery(this).attr("attr-dis",-1),dig_log_reg_button=0,jQuery(window).trigger("resize"),!1;if(!r){if(2==dig_log_obj.pass_accept&&0==i.length)return showDigMessage(dig_log_obj.Invaliddetails),!1;if(0<dig_log_obj.pass_accept&&0==i.length&&validateEmail(e)&&validateEmail(t)&&!is_mobile(e)&&!is_mobile(t))return showDigMessage(dig_log_obj.eitherenterpassormob),!1}if(1==jQuery(this).attr("verify")){var a=regForm.find(".dig_register_otp").find("input").val();return is_mobile(e)?verifyOtp(regForm.find(".registercountrycode").val(),e,n,a,2):is_mobile(t)&&verifyOtp(regForm.find(".registersecondcountrycode").val(),t,n,a,2),!1}if(1==registerStatus)return!0;r=jQuery(this).attr("attr-dis");if(0==e.length&&(2==dig_log_obj.mobile_accept||1==dig_log_obj.mobile_accept&&1==dig_log_obj.mail_accept))return showDigMessage(dig_log_obj.Invaliddetails),!1;if(is_mobile(e)&&is_mobile(t)&&0<t.length)return showDigMessage(dig_log_obj.InvalidEmail),!1;if(jQuery(".disable_email_digit").length){if(!is_mobile(e))return showDigMessage(dig_log_obj.Invaliddetails),!1}else{if(validateEmail(e)&&validateEmail(t)&&0<t.length)return showDigMessage(dig_log_obj.Invaliddetails),!1;var s=regForm.find(".dig_reg_mail");if(validateEmail(e)?s.val(e):validateEmail(t)&&s.val(t),2==dig_log_obj.mail_accept&&!validateEmail(t)&&!validateEmail(e))return showDigMessage(dig_log_obj.InvalidEmail),!1}if(!jQuery(".disable_password_digit").length&&!is_mobile(regForm.find(".digits_reg_email").val())&&!is_mobile(regForm.find(".dig-secondmailormobile").val())&&0<dig_log_obj.pass_accept&&0==i.length)return showDigMessage(dig_log_obj.eitherenterpassormob),!1;if(2==dig_log_obj.mobile_accept&&!is_mobile(e)&&!is_mobile(t))return showDigMessage(dig_log_obj.InvalidMobileNumber),!1;jQuery("#digits_reg_username").length&&(username_reg_field=jQuery("#digits_reg_username").val());var l=jQuery(this).closest("form");return l.find(".dig-custom-field-type-captcha").length&&(captcha_reg_field=l.find(".dig-custom-field-type-captcha").find("input[type='text']").val(),captcha_ses_reg_field=l.find(".dig-custom-field-type-captcha").find(".dig_captcha_ses").val()),is_mobile(e)?(akCallback="registerCallBack",email_reg_field=t,verifyMobileNoLogin(jQuery(".dig_lrf_box .registercountrycode").val(),e,n,2)):is_mobile(t)?(akCallback="registerCallBack",email_reg_field=e,verifyMobileNoLogin(jQuery(".dig_lrf_box .registersecondcountrycode").val(),t,n,2)):(email_reg_field=validateEmail(e)?e:t,verifyMobileNoLogin(null,null,n,2)),!1});var lef=3*leftDis;leftDis=2*lef-9,jQuery(".dig_lrf_box .backtoLogin").click(function(){loginBoxTitle&&loginBoxTitle.text(dig_log_obj.login);var e=jQuery(this).closest(".dig_lrf_box"),i=e.find(".digloginpage");noanim?i.show():i.fadeIn("fast"),e.find(".forgot").hide(),e.find(".register").hide(),updateModalHeight(login_modal)}),jQuery(".dig_lrf_box .signupbutton").click(function(){var e=jQuery(this).closest(".dig_lrf_box");loginBoxTitle&&loginBoxTitle.text(dig_log_obj.signup),e.find(".digloginpage").hide(),noanim?e.find(".register").show():e.find(".register").fadeIn("fast"),updateModalHeight(register_modal)}),jQuery(window).on("resize",function(){register.is(":visible")?updateModalHeight(register_modal):dig_modal_conn.is(":visible")&&(updateModalHeight(login_modal),0<otp_container.length&&otp_container.css({height:login.outerHeight(!0)}))}),0<otp_container.length&&otp_container.css({height:login.outerHeight(!0)}),jQuery(".dig_lrf_box .forgotpassworda").click(function(){loginBoxTitle&&loginBoxTitle.text(dig_log_obj.ForgotPassword);var e=jQuery(this).closest(".dig_lrf_box");e.find(".digloginpage").hide(),noanim?e.find(".digloginpage").hide():e.find(".forgot").fadeIn("fast"),updateModalHeight(forgot_modal)});var usernameid=jQuery(".dig_lrf_box .dig-mobmail"),digits_reg_email=jQuery(".dig_lrf_box .digits_reg_email"),ew=12;usernameid.bind("keyup change",function(e){if(0!=dig_log_obj.login_mobile_accept){var i=jQuery(this).closest("div");show_countrycode_field(jQuery(this).val())?i.find(".logincountrycodecontainer").css({display:"inline-block"}).find(".logincountrycode").trigger("keyup"):(i.find(".logincountrycodecontainer").hide(),jQuery(this).css({"padding-left":leftPadding}))}}),jQuery(".dig_lrf_box .logincountrycode").bind("keyup change",function(e){var i=jQuery(this).val().length;++i<2&&(i=2),jQuery(this).attr("size",i),0==jQuery(this).val().trim().length&&jQuery(this).val("+"),jQuery(this).closest("form").find(".dig-mobmail").stop().animate({"padding-left":jQuery(this).outerWidth()+ew/2+"px"},"fast",function(){})}),digits_reg_email.bind("keyup change",function(e){var i=jQuery(this).closest("form");0!=dig_log_obj.mobile_accept&&(show_countrycode_field(jQuery(this).val())?i.find(".registercountrycodecontainer").css({display:"inline-block"}).find(".registercountrycode").trigger("keyup"):(i.find(".registercountrycodecontainer").hide(),jQuery(this).css({"padding-left":leftPadding})),updateMailSecondLabel(i))}),setTimeout(function(){usernameid.trigger("keyup"),digits_reg_email.trigger("keyup")},10),jQuery(".registercountrycode").bind("keyup change",function(e){var i=jQuery(this).val().length;++i<2&&(i=2),jQuery(this).attr("size",i),0==jQuery(this).val().trim().length&&jQuery(this).val("+");var t=jQuery(this).closest("form");t.find(".digits_reg_email").stop().animate({"padding-left":jQuery(this).outerWidth()+ew/2+"px"},"fast",function(){}),updateMailSecondLabel(t)}),secondmailormobile.bind("keyup change",function(e){if(2!=dig_log_obj.mail_accept&&2!=dig_log_obj.mobile_accept){var i=jQuery(this).closest("form");show_countrycode_field(jQuery(this).val())&&!is_mobile(i.find(".digits_reg_email").val())?i.find(".secondregistercountrycodecontainer").css({display:"inline-block"}).find(".registersecondcountrycode").trigger("keyup"):(i.find(".secondregistercountrycodecontainer").hide(),jQuery(this).css({"padding-left":leftPadding})),updateMailSecondLabel(i)}}),jQuery(".registersecondcountrycode").bind("keyup change",function(e){var i=jQuery(this).val().length;++i<2&&(i=2),jQuery(this).attr("size",i),0==jQuery(this).val().trim().length&&jQuery(this).val("+");var t=jQuery(this).closest("form");t.find(".dig-secondmailormobile").stop().animate({"padding-left":jQuery(this).outerWidth()+ew/2+"px"},"fast",function(){}),updateMailSecondLabel(t)}),forgotpass.bind("keyup change",function(e){var i=jQuery(this).closest("form");show_countrycode_field(jQuery(this).val())?i.find(".forgotcountrycodecontainer").css({display:"inline-block"}).find(".forgotcountrycode").trigger("keyup"):(i.find(".forgotcountrycodecontainer").hide(),jQuery(this).css({"padding-left":leftPadding}))}),jQuery(".forgotcountrycode").bind("keyup change",function(e){var i=jQuery(this).val().length;++i<2&&(i=2),jQuery(this).attr("size",i),0==jQuery(this).val().trim().length&&jQuery(this).val("+"),jQuery(this).closest("form").find(".forgotpass").stop().animate({"padding-left":jQuery(this).outerWidth()+ew/2+"px"},"fast",function(){})});var prevInftype=0,minputs=jQuery(".minput").find("input,textarea");minputs.blur(function(){tmpval=jQuery(this).val(),""==tmpval?jQuery(this).addClass("empty").removeClass("not-empty"):jQuery(this).addClass("not-empty").removeClass("empty")}),jQuery(window).on("load",function(){setTimeout(function(){minputs.each(function(){jQuery(this).triggerHandler("blur")})},500)});var elem=jQuery(".digit_cs-list"),cur_countrycode=jQuery(".countrycode"),isShown=0,country_code_field;if(jQuery(document).on("focus",".countrycode",function(){var e=jQuery(this),i=e.parent("div");i.append(elem),highlight(elem.find("li.selected"));var t=e.position(),o=i.position(),r=t.left-o.left,n=parseInt(e.css("marginBottom"));elem.css({top:e.outerHeight(!0)-n,left:r}),elem.show(),isShown=1}),jQuery(document).on("focusout",".countrycode",function(e){elem.hide(),isShown=0}),jQuery(document).on("keydown",".countrycode",function(e){switch(0==isShown&&cur_countrycode.trigger("focus"),e.which){case 38:var i=elem.find("li.dig-cc-visible:not([disabled])"),t=elem.find("li.selected").prev();return highlight(i.index(0<t.length?t:i.last())),e.preventDefault(),!1;case 40:i=elem.find("li.dig-cc-visible:not([disabled])"),t=elem.find("li.selected").next();return highlight(i.index(0<t.length?t:i.first())),e.preventDefault(),!1;case 13:return selectCode(),!1;case 9:case 27:elem.hide();break;default:var o=jQuery(document.activeElement).val().toLowerCase().trim().replace(/[^a-z]+/gi,"");jQuery(".digit_cs-list li").each(function(e){if(jQuery(this).attr("country").startsWith(o))return highlight(e),!1})}}),elem.on("mousemove","li:not([disabled])",function(){elem.find(".selected").removeClass("selected"),jQuery(this).addClass("selected")}).on("mousedown","li",function(e){elem.is("[disabled]")?e.preventDefault():elem.select(jQuery(this)),selectCode()}).on("mouseup",function(){elem.find("li.selected").removeClass("selected")}),jQuery(document).on("click",".dig_popmessage",function(){jQuery(this).closest(".dig_popmessage").slideUp("fast",function(){jQuery(this).remove()})}),jQuery(".dig_bdy_container").length){var reg,ecd=jQuery(".dig_powrd"),b=jQuery(".dig_clg_bx"),c=jQuery(".logocontainer"),logp=jQuery(".digloginpage"),regp=jQuery(".register"),digc=jQuery(".dig-container"),digimgCon=jQuery(".dig_ul_left_side"),header=jQuery(".header"),dig_ma_box=jQuery(".dig_lrf_box"),otp_container=jQuery(".dig_verify_mobile_otp_container");jQuery(window).on("load",function(){updatePos()}),jQuery(window).on("resize",function(){updatePos()});var updateLeftBx=function(){digimgCon.height(jQuery(document).height())};function updatePos(){updatebox(reg=regp.is(":visible")?1:0<otp_container.length&&otp_container.is(":visible")?2:0)}function updatebox(e){var i,t,o=90;t=0<c.length?(i=c.height(),25):i=0;var r=jQuery(window).height(),n=logp.outerHeight(!0)+44;if(1==e)n<(d=regp.outerHeight(!0)+44)&&(n=d);else if(2==e){var d;n<(d=otp_container.outerHeight(!0)+44)&&(n=d)}var a=0;ecd.length&&(a=ecd.outerHeight(!0));var s=(r-i-n+t+a+28)/2,l=70;header.is(":visible")||(o=(l=60)+20),0<c.length&&c.stop().animate({top:Math.max(l,s-t),opacity:1},200),b.stop().animate({top:Math.max(o,s),opacity:1},200),digc.height(n),ecd.length&&ecd.animate({opacity:"1"})}jQuery(".signupbutton").click(function(){updatebox(!0)}),jQuery(".backtoLogin").click(function(){updatebox(!1)})}jQuery(document).on("focus",".mobile_field",function(){getCountryCodeField(jQuery(this))}),jQuery(document).on("change",".minput .countrycode",function(){jQuery(this).closest(".minput").find(".mobile_field").trigger("keyup")}),jQuery(document).on("keyup",".mobile_field",function(){country_code_field||getCountryCodeField(jQuery(this));var e=jQuery(this),i=e.val();e.hasClass("mobile_format")&&(dig_begins_with(i)||country_code_field.length&&(i=country_code_field.val()+""+i));var t=libphonenumber.parsePhoneNumberFromString(i);if(void 0!==t){var o=t.countryCallingCode,r=t.nationalNumber;e.hasClass("mobile_format")&&(1==dig_log_obj.dig_mobile_no_formatting?r=(r=jQuery.trim(t.formatInternational().replace("+"+o,""))).replace(/^0+/,""):2==dig_log_obj.dig_mobile_no_formatting&&(r=t.formatNational().replace(/^0+/,""))),e.val(r),country_code_field.length&&(country_code_field.val("+"+o),country_code_field.is(":visible")||e.hasClass("dig-attr-cc-key")||(e.addClass("dig-attr-cc-key"),e.trigger("keyup")))}else e.removeClass("dig-attr-cc-key")})}function loginuser(e){if(precode==e.code)return!1;precode=e.code;var i=0;return jQuery(".digits_login_remember_me").length&&(i=0<jQuery(".digits_login_remember_me:checked").length),jQuery.ajax({type:"post",url:dig_log_obj.ajax_url,data:{action:"digits_login_user",code:e.code,csrf:e.state,digits:1,rememberMe:i},success:function(e){if(isJSON(e))if(e.code){if(e.redirect)return loader.show(),void(window.location.href=e.redirect);e=e.code}else e=e;else e=e.trim();loader.hide(),"1"==e?(loader.show(),jQuery("#digits_redirect_page").length?window.location.href=jQuery("#digits_redirect_page").val():window.location.href=dig_log_obj.uri):showDigMessage(-1==e?dig_log_obj.pleasesignupbeforelogginin:-9==e?dig_log_obj.invalidapicredentials:dig_log_obj.invalidlogindetails)}}),!1}function loginCallback(e){if("PARTIALLY_AUTHENTICATED"===e.status){e.code,e.state;showDigitsModal(!1),loginuser(e)}else showDigitsModal(!0)}function updateTime(i){tokenCon=i.closest("form"),update_time_button&&update_time_button.attr("value",dig_log_obj.SubmitOTP).text(dig_log_obj.SubmitOTP),i.attr("dis",1).addClass("dig_resendotp_disabled").show().find("span").show();var t=i.find("span");t.text(convToMMSS(resendTime));var o=0,r=setInterval(function(){var e=resendTime-o;t.text(convToMMSS(e)),resendTime<=++o&&(clearInterval(r),i.removeAttr("dis").removeClass("dig_resendotp_disabled").find("span").hide(),o=0)},1e3,!0)}function convToMMSS(e){var i=parseInt(e,10),t=Math.floor(i/3600),o=Math.floor((i-3600*t)/60),r=i-3600*t-60*o;return o<10&&(o="0"+o),r<10&&(r="0"+r),"("+o+":"+r+")"}function verifyMobileNoLogin(n,d,a,s){lastcountrycode!=n||lastmobileNo!=d||lastDtype!=s?(dismissLoader=!1,hideDigMessage(),loader.show(),lastcountrycode=n,lastmobileNo=d,lastDtype=s,jQuery.ajax({type:"post",url:dig_log_obj.ajax_url,data:{action:"digits_check_mob",countrycode:n,mobileNo:d,csrf:a,login:s,username:username_reg_field,email:email_reg_field,captcha:captcha_reg_field,captcha_ses:captcha_ses_reg_field,digits:1,json:1},success:function(i){captcha_ses_reg_field=captcha_reg_field=email_reg_field=username_reg_field="",lastmobileNo=lastDtype=0,loader.hide();var e=-1;if(isJSON(i)){if(!1===i.success)return void showDigMessage(i.data.message);e=i.ak,isFirebase=i.firebase,i=i.code}else i=i.trim();if(-1!=i||11!=s)if(-99!=i){if(-11==i){if(1==s)return void showDigMessage(dig_log_obj.pleasesignupbeforelogginin);if(3==s)return void showDigMessage(dig_log_obj.Mobilenumbernotfound)}else if(0==i)return void showDigMessage(dig_log_obj.Error);if(-1!=i||2!=s){if(null==d||null==n)return registerStatus=1,void regForm.find(".registerbutton").click();if(d=filter_mobile(d),n=n.replace(/^0+/,""),1==e)processAccountkitLogin(n,d);else if(1==isFirebase){var t=jQuery(".dig_verify_otp_input");t.length&&t.attr({placeholder:"------",maxlength:6}),dismissLoader=!0,loader.show();var o=n+d,r=window.recaptchaVerifier;firebase.auth().signInWithPhoneNumber(o,r).then(function(e){loader.hide(),window.confirmationResult=e,verifyMobNo_success(i,n,d,a,s)}).catch(function(e){loader.hide(),showDigMessage(e.message)})}else verifyMobNo_success(i,n,d,a,s)}else showDigMessage(dig_log_obj.MobileNumberalreadyinuse)}else showDigMessage(dig_log_obj.invalidcountrycode);else showDigMessage(dig_log_obj.MobileNumberalreadyinuse)}})):loader.hide()}function processAccountkit(countrycode,mobileNo){hideDigitsModal(),AccountKit.login("PHONE",{countryCode:countrycode,phoneNumber:phoneNumber},eval(akCallback))}function update_req_fields(){1==dig_log_obj.show_asterisk&&jQuery(".minput").each(function(){var e=jQuery(this);if(!e.hasClass("dig-custom-field")){var i=e.find("input");i.attr("required")&&!i.attr("aster")&&(e.find("label").append(" *"),i.attr("aster",1))}})}function verifyMobNo_success(e,i,t,o,r){if(dismissLoader=!1,1==r||11==r){if(1==e){updateTime(jQuery(".dig_logof_log_resend").attr({countrycode:i,mob:t,csrf:o,dtype:r})),jQuery(".digloginpage .minput").find("input[type='password']").each(function(){jQuery(this).closest(".minput").slideUp()});var n=submit_form.find(".dig_login_otp");jQuery(".logforb").hide(),n.slideDown().find("input").attr("required","required").focus(),otp_submit_button.attr("verify",1),otp_container.length&&(login.hide(),otp_box=n.find("input"),show_mobile_in_element(otp_container.show().find(".dig_verify_code_msg span"),i+t),otp_container.find("input").focus(),otp_container.find(".dig_verify_otp").after(jQuery(".dig_logof_log_resend")))}}else if(2==r){updateTime(jQuery(".dig_logof_reg_resend").attr({countrycode:i,mob:t,csrf:o,dtype:r})),registerStatus=1,regForm.find(".minput").find("input[type='password']").each(function(){jQuery(this).closest(".minput").slideUp()}),(n=regForm.find(".dig_register_otp")).slideDown().find("input").attr("required","required").focus(),regForm.find(".dig_reg_btn_password").hide(),dig_otp_signup.show(),regForm.find(".registerbutton").attr("verify",1),n.closest(".dig-container").addClass("dig-min-het"),otp_container.length&&(otp_submit_button=dig_otp_signup,register.hide(),otp_box=n.find("input"),show_mobile_in_element(otp_container.show().find(".dig_verify_code_msg span"),i+t),otp_container.find("input").focus(),otp_container.find(".dig_verify_otp").after(jQuery(".dig_logof_reg_resend")))}else if(3==r){updateTime(jQuery(".dig_logof_forg_resend").attr({countrycode:i,mob:t,csrf:o,dtype:r})),(n=forgotForm.find(".dig_forgot_otp")).slideDown().find("input").attr("required","required").focus(),(otp_submit_button=forgotForm.find(".forgotpassword")).attr("verify",1),otp_container.length&&(forgot.hide(),otp_box=n.find("input"),show_mobile_in_element(otp_container.show().find(".dig_verify_code_msg span"),i+t),otp_container.find("input").focus(),otp_container.find(".dig_verify_otp").after(jQuery(".dig_logof_reg_resend")))}setTimeout(function(){jQuery(window).trigger("resize")},350),update_req_fields(),jQuery(window).trigger("resize")}function show_mobile_in_element(e,i){var t=libphonenumber.parsePhoneNumberFromString(i);if(void 0!==t){var o=t.countryCallingCode;i=t.formatNational().replace(/^0+/,"")}e.text("+"+o+" "+i)}function updateFormVerfication(e){if("PARTIALLY_AUTHENTICATED"===e.status){var i=e.code,t=e.state;showDigitsModal(!1),submit_form.find(".digits_code").val(i),submit_form.find(".digits_csrf").val(t),submit_form.submit()}else showDigitsModal(!0)}function verifyOtp(e,i,t,o,r){dismissLoader=!1,hideDigMessage(),loader.show(),1==isFirebase?verify_firebase_otp(e,i,t,o,r):verify_cust_otp(e,i,t,o,r,-1)}function verify_firebase_otp(i,t,o,r,n){if(t=filter_mobile(t),i=i.replace(/^0+/,""),null==r||0==r.length)return loader.hide(),void showDigMessage(dig_log_obj.InvalidOTP);window.confirmationResult.confirm(r).then(function(e){firebase.auth().currentUser.getIdToken(!0).then(function(e){window.verifyingCode=!1,window.confirmationResult=null,jQuery("#dig_ftok_fbase").remove(),tokenCon.append("<input type='hidden' name='dig_ftoken' value='"+e+"' id='dig_ftok_fbase' />"),verify_cust_otp(i,t,o,r,n,e)}).catch(function(e){loader.hide(),showDigMessage(e)})}).catch(function(e){loader.hide(),showDigMessage(e)})}function verify_cust_otp(e,i,t,o,r,n){if(lastotpcountrycode!=e||lastotpmobileNo!=i||lastotpDtype!=o){lastotpcountrycode=e,lastotpmobileNo=i,lastotpDtype=o;var d=0;jQuery(".digits_login_remember_me").length&&(d=0<jQuery(".digits_login_remember_me:checked").length),jQuery.ajax({type:"post",url:dig_log_obj.ajax_url,data:{action:"digits_verifyotp_login",countrycode:e,mobileNo:i,otp:o,dig_ftoken:n,csrf:t,dtype:r,digits:1,rememberMe:d},success:function(e){if(isJSON(e))if(e.code){if(e.redirect)return void(window.location.href=e.redirect);e=e.code}else e=e;else e=e.trim();11!=e&&loader.hide(),1011!=e&&1013!=e?-99!=e?11!=r?0!=e?11!=e?-1!=e||2==r?1!=e||2!=r?2==r?(registerStatus=1,regForm.find(".registerbutton").attr("verify",3).click()):3==r&&(forgotForm.find(".changepassword .minput").each(function(){jQuery(this).show()}),forgotForm.find(".dig_forgot_otp").slideUp(),forgotForm.find(".forgotpasscontainer").slideUp(),forgotForm.find(".changepassword").slideDown(),forgotForm.find(".digits_csrf").val(t),forgotForm.find(".dig_logof_forg_resend").hide(),update_time_button.val(prv),passchange=1,otp_container.length&&(otp_container.hide(),forgot.show())):showDigMessage(dig_log_obj.MobileNumberalreadyinuse):showDigMessage(dig_log_obj.ErrorPleasetryagainlater):jQuery("#digits_redirect_page").length?window.location.href=jQuery("#digits_redirect_page").val():window.location.href=dig_log_obj.uri:showDigMessage(dig_log_obj.InvalidOTP):submit_form.submit():showDigMessage(dig_log_obj.invalidcountrycode):showDigMessage(dig_log_obj.error)}})}else loader.hide()}function registerCallBack(e){if("PARTIALLY_AUTHENTICATED"===e.status){showDigitsModal(!1);var i=e.code,t=e.state;regForm.find(".register_code").val(i),regForm.find(".register_csrf").val(t),registerStatus=1,loader.show(),regForm.find(".registerbutton").click()}else showDigitsModal(!0)}function forgotCallBack(e){if(showDigitsModal(!0),"PARTIALLY_AUTHENTICATED"===e.status){passchange=1;var i=e.code,t=e.state;forgotForm.find(".forgotpasscontainer").slideUp(),forgotForm.find(".changepassword").slideDown(),forgotForm.find(".digits_code").val(i),forgotForm.find(".digits_csrf").val(t)}}function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function hideLogin(){login.hide()}function updateModalHeight(e){dig_modal_conn.css({height:e.outerHeight(!0)+90})}function updateMailSecondLabel(e){var i=e.find(".dig-secondmailormobile");if(null!=i){var t=e.find(".digits_reg_email").val(),o=i.val();if(null!=o&&0==o.length&&(is_mobile(t)&&1!=inftype||2==dig_log_obj.mail_accept?(inftype=1,e.find(".dig_secHolder").html(dig_log_obj.Email)):is_mobile(t)||2==inftype||2==dig_log_obj.mobile_accept||(inftype=2,e.find(".dig_secHolder").html(dig_log_obj.Mobileno)),i.attr("placeholder")&&prevInftype!=inftype&&(prevInftype=inftype,i.attr("placeholder",e.find(".dig_secHolder").parent().text())),2!=dig_log_obj.mail_accept&&2!=dig_log_obj.mobile_accept)){if(""==t||0==t.length)return e.find(".dig-mailsecond").hide(),isSecondMailVisible&&jQuery(window).trigger("resize"),void(isSecondMailVisible=!1);if(isSecondMailVisible)return;e.find(".dig-mailsecond").fadeIn(),jQuery(window).trigger("resize"),isSecondMailVisible=!0}}}function processAccountkitLogin(countrycode,phoneNumber){hideDigitsModal(),AccountKit.login("PHONE",{countryCode:countrycode,phoneNumber:phoneNumber},eval(akCallback))}function formatMobileNumber(e){return filter_mobile(e)}function selectCode(){if(elem.is(":visible")){var e=elem.find("li.selected"),i=jQuery(document.activeElement);i.val("+"+e.attr("value")),i.trigger("keyup"),elem.hide(),isShown=0}}function highlight(d){setTimeout(function(){var e=elem.find("li.dig-cc-visible"),i=elem.find("li.selected").removeClass("selected"),t=e.index(i);if(0<e.length){var o=(e.length+d)%e.length,r=e.eq(o),n=0;0<r.length&&(n=r.position().top,r.addClass("selected")),o<t&&n<0&&elem.scrollTop(elem.scrollTop()+n),t<o&&n+r.outerHeight()>elem.outerHeight()&&elem.scrollTo(".selected")}})}function hideDigitsModal(){jQuery("body").addClass("dig_low_overlay"),loader.show(),hideDigMessage(),modcontainer.length&&modcontainer.hide()}function showDigitsModal(e){jQuery("body").removeClass("dig_low_overlay"),e&&loader.hide(),modcontainer.length&&modcontainer.show()}function lockScroll(){$html=jQuery("html"),$body=jQuery("body");var e=$body.outerWidth(),i=$body.outerHeight(),t=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop];$html.data("scroll-position",t),$html.data("previous-overflow",$html.css("overflow")),$html.css("overflow","hidden"),window.scrollTo(t[0],t[1]);var o=$body.outerWidth()-e,r=$body.outerHeight()-i;$body.css({"margin-right":o,"margin-bottom":r})}function unlockScroll(){$html=jQuery("html"),$body=jQuery("body"),$html.css("overflow",$html.data("previous-overflow"));var e=$html.data("scroll-position");window.scrollTo(e[0],e[1]),$body.css({"margin-right":0,"margin-bottom":0})}function showDigMessage(e){jQuery(".dig_error_message").length?(jQuery(".dig_error_message").find(".dig_lase_message").text(e),jQuery(".dig_error_message").is(":visible")||jQuery(".dig_error_message").slideDown("fast")):(jQuery("body").append("<div class='dig_popmessage dig_error_message'><div class='dig_firele'><img src='"+dig_log_obj.face+"'></div><div class='dig_lasele'><div class='dig_lase_snap'>"+dig_log_obj.ohsnap+"</div><div class='dig_lase_message'>"+e+"</div></div><img class='dig_popdismiss' src='"+dig_log_obj.cross+"'></div>"),jQuery(".dig_error_message").slideDown("fast"))}function hideDigMessage(){jQuery(".dig_error_message").slideUp("fast")}function isJSON(e){"string"!=typeof e&&(e=JSON.stringify(e));try{return JSON.parse(e),!0}catch(e){return!1}}function isDateValid(e){return e.getTime()==e.getTime()}function getCountryCodeField(e){var i=e.closest("div");country_code_field=i.find(".countrycode")}});